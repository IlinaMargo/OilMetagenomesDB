name: Example Workflow

on:
  workflow_dispatch:

jobs:
  a:
    runs-on: ubuntu-latest
    outputs:
      variable_b: ${{ steps.set-variable.outputs.variable_b }}
      variable_c: ${{ steps.set-variable.outputs.variable_c }}
    steps:
    - name: Checkout repository
      uses: actions/checkout@v2
      with:
        fetch-depth: 0
    - name: Set and print variable
      id: set-variable
      run: |
        echo "::set-output name=variable_b::1"
        echo "::set-output name=variable_c::2"
    - name: Print working directory
      run: pwd
    - name: Check script
      run: |
        python scripts/check_script.py
        
  b:
    needs: a
    runs-on: ubuntu-latest
    if: needs.a.outputs.variable_b == '1'
    steps:
    - name: Print working directory
      run: pwd
    - name: Check script
      run: |
        python scripts/check_script.py
  c:
    needs: a
    runs-on: ubuntu-latest
    if: needs.a.outputs.variable_c == '2'
    steps:
    - name: C is working
      run: echo "c is working"
